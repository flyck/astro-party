---
import Badge from "./mini/badge.astro";
import type { BadgeColor } from "./mini/badge.astro";

interface Props {
  class?: string;
  status: Status;
}

export type Status = "TODO" | "PENDING" | "DONE";

const config: { [key in Status]: BadgeColor } = {
  TODO: "red",
  PENDING: "yellow",
  DONE: "green",
};

function capitalizeFirstLetter(str: string): string {
  return str.charAt(0).toUpperCase() + str.slice(1);
}

const { class: className, status } = Astro.props;
---
<Badge color={config[status]}>
  {capitalizeFirstLetter(status.toLowerCase())}
</Badge>
